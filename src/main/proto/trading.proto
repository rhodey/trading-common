syntax = "proto3";

option java_package         = "org.anhonesteffort.trading.proto";
option java_outer_classname = "TradingProto";

message BaseMessage {
  enum Type {
    ERROR   = 0;
    RESET   = 1;
    EVENT   = 2;
    LATENCY = 3;
  }

  Type    type    = 1;
  Error   error   = 2;
  Event   event   = 3;
  Latency latency = 4;
}

message Error {
  string message = 1;
}

message Event {

  enum Type {
    OPEN   = 0;
    TAKE   = 1;
    REDUCE = 2;
  }

  enum Side {
    ASK = 0;
    BID = 1;
  }

  Type   type    = 1;
  string orderId = 2;
  Side   side    = 3;
  int64  price   = 4;
  int64  size    = 5;
}

message Latency {
  int64 mod         = 1;
  int64 nanoseconds = 2;
}
